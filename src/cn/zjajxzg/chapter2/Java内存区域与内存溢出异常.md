### 第二章、Java内存区域与内存溢出异常
---
#### 运行时数据区域
##### 程序计数器（线程私有，没有OOM）

> 程序计数器在单线程中可以不存在，作用是记录当前线程正在执行的java字节码指令的地址，在CPU做线程切换后可以记住上一次执行到的指令。在Java方法中有值，native方法中值为空（undefined），native方法本质是利用JNI调用c/c++方法，所以没有java字节码指令。

##### Java虚拟机栈

> Java虚拟机栈也是线程私有的，它的声明周期与线程相同。虚拟机栈描述的是Java方法的内存模型，每个方法执行的同时会创建一个栈帧，用于存储局部变量表、操作数栈、动态链接、方法出口等信息。每一个方法从调用直至执行完成的过程就对应着一个栈帧在虚拟机栈中入栈到出栈的过程。

##### 本地方法栈

> 与虚拟机栈的区别仅仅是虚拟机栈执行Java方法，本地方法栈执行Native方法。

##### 方法区（非堆）

> 线程共享区域，用于存储已被虚拟机加载的类信息、常量、静态变量、即时编译器编译后的代码等数据。

##### Java堆

> 线程共享区域，存放对象实例，几乎所有的对象实例都会在堆上分配内存，随着JIT编译器的发展与逃逸分析技术的成熟，栈上分配、标量替换等优化技术使得对象实例都在堆上分配变得不是绝对的了。